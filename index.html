<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Institute of Innovative Technologies (IIT)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='campy.css') }}">
  <style>
    .carousel-container {
      position: relative;
      width: 100%;
      max-height: 500px;
      overflow: hidden;
    }
    .carousel-slide {
      display: none;
      width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .carousel-slide.active {
      display: block;
    }
  </style>
</head>
<body>

<header>
  <div class="logo-title-container">
    <img src="{{ url_for('static', filename='iit-logo.png') }}" alt="IIT Logo" class="logo-left" />
    <h1 class="site-title">Institute of Innovative Technologies (IIT)</h1>
  </div>
  <nav>
    <a href="/">Home</a>
    <a href="/about">About</a>
    <a href="/courses">Courses</a>
    <a href="/contact">Contact</a>
  </nav>
</header>

<main>
  <section class="carousel-container animate-on-scroll">
    <img src="{{ url_for('static', filename='IIT-Convocation-2019.jpg') }}" class="carousel-slide active" alt="Convocation Ceremony">
    <img src="{{ url_for('static', filename='friend-2727305_1280.jpg') }}" class="carousel-slide" alt="Group of Happy Graduates">
  </section>

  <section style="padding: 40px; background: #fff5f5;">
    <h2 style="color: #B22222; text-align: center;">Welcome to the Institute of Innovative Technologies (IIT)</h2>
    <p style="max-width: 900px; margin: auto; font-size: 18px; line-height: 1.6;">
      IIT is a premier private higher education institute offering British undergraduate and postgraduate degrees in Information Technology and Business. 
      With a history of over 30 years and 3,000+ alumni worldwide, we are dedicated to excellence in education and career success.
    </p>
  </section>

  <section style="background-color: #ffffff; padding: 40px;">
    <div style="max-width: 1000px; margin: auto; display: flex; flex-wrap: wrap; align-items: center; gap: 30px;" class="animate-on-scroll">
      <div style="flex: 1;">
        <h2 style="color: #B22222;">Globally Recognized Qualifications in IT & Business</h2>
        <p style="font-size: 18px; line-height: 1.6;">
          IIT has reshaped Sri Lanka‚Äôs education landscape through innovative British programs in computing and business. Our strong global partnerships and dedicated academic support make IIT the top choice for Sri Lankan students seeking UK qualifications.
        </p>
      </div>
      <div style="flex: 0 0 300px; text-align: center;">
        <img src="{{ url_for('static', filename='grad2.jpg') }}" alt="IIT Recognition" style="width: 100%; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
      </div>
    </div>
  </section>

  <section style="text-align:center; padding: 30px;" class="animate-on-scroll">
    <img src="{{ url_for('static', filename='IIT-Funding.jpg') }}" alt="Graduation Pose" style="max-width: 300px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
  </section>

  <section style="background-color: #f4cccc; padding: 40px;">
    <div style="max-width: 1000px; margin: auto;">
      <h2 style="text-align: center; color: #B22222;">Our Partner Universities</h2>
      <p style="font-size: 18px; text-align: center;">
        IIT offers internationally accredited degrees through strong academic partnerships with:
      </p>
      <div style="display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; margin-top: 20px;">
        <img src="{{ url_for('static', filename='download.png') }}" alt="University of Westminster" style="max-height: 60px;">
        <img src="{{ url_for('static', filename='download (1).png') }}" alt="Robert Gordon University" style="max-height: 60px;">
      </div>
      <p style="font-size: 17px; margin-top: 20px; line-height: 1.6;">
        Our collaboration with the University of Westminster (UOW), UK and Robert Gordon University (RGU), UK provides pathways in computing, business, AI, and software engineering, from foundation level to postgraduate studies.
      </p>
    </div>
  </section>
<!-- Floating Chat Icon -->
<button id="chatbot-button" onclick="toggleChat(); playSparkle();">üí¨</button>

<!-- Chatbot Bouncing Bar -->
<div id="chatbot-bar">üëã Hi, I'm <strong>Campy</strong>! Ask Anything!</div>

<!-- Chatbot Box -->
<div id="chatbot-container">
  <!-- Chatbot Header with Close + Minimize -->
<div class="chatbox-header">
  üëã Hi, I‚Äôm <strong>Campy</strong>! Ask me anything about IIT.
  <span id="usernameDisplay"></span>
  <div style="margin-left:auto;">
    <button onclick="toggleVoice()" title="Toggle Voice" id="voiceToggle" class="chat-header-btn">üîá</button>
    <button onclick="minimizeChat()" title="Minimize" class="chat-header-btn">‚ûñ</button>
    <button onclick="closeChat()" title="Close" class="chat-header-btn">‚ùå</button>
  </div>
</div>

  <div id="loginArea">
    <form id="loginForm">
      <input id="name" type="text" placeholder="Full Name" required />
      <div id="name-error" class="error-text"></div>
      <input id="email" type="email" placeholder="Email Address" required />
      <div id="email-error" class="error-text"></div>
      <input id="contact" type="text" placeholder="Contact Number" required />
      <div id="contact-error" class="error-text"></div>
      <button type="submit">üîê Login</button>
    </form>
  </div>

  <div id="chatArea" style="display:none;"></div>

  <div class="input-row" style="display:none;">
    <input id="chatInput" type="text" placeholder="Ask Campy..." disabled />
    <button onclick="sendMessage()">Send</button>
    <button onclick="loadChatHistory()">üìã Chat History</button>
  </div>
</div>


</main>

<footer>
  <p>&copy; 2025 Institute of Innovative Technologies (IIT). All rights reserved.</p>
</footer>

<!-- Chatbot -->
<script src="{{ url_for('static', filename='chatbot.js') }}"></script>

<!-- Animate on Scroll Script -->
<script>
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  });
  document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));
</script>

<!-- Carousel Script -->
<script>
  let slideIndex = 0;
  const slides = document.querySelectorAll('.carousel-slide');
  setInterval(() => {
    slides[slideIndex].classList.remove('active');
    slideIndex = (slideIndex + 1) % slides.length;
    slides[slideIndex].classList.add('active');
  }, 2000);
</script>

<!-- Sparkle Sound -->
<audio id="sparkle-audio" preload="auto">
  <source src="{{ url_for('static', filename='real-sparkle.mp3') }}" type="audio/mpeg">
</audio>
<!-- Soft Chime Sound -->
<audio id="chime-audio" preload="auto">
  <source src="{{ url_for('static', filename='soft-chime.mp3') }}" type="audio/mpeg">
</audio>
<audio id="campy-response" preload="auto">
  <source src="{{ url_for('static', filename='campy-response.mp3') }}" type="audio/mpeg">
</audio>


<!-- Play Sound Function -->
<script>
  function playSparkle() {
    document.getElementById("sparkle-audio").play();
  }
</script>

<script>
  let chatOpen = false;

  function toggleChat() {
    const box = document.getElementById("chatbot-container");
    const bar = document.getElementById("chatbot-bar");

    if (box.style.display === "flex") {
      box.style.display = "none";
      if (bar) bar.style.display = "block";
      chatOpen = false;
    } else {
      box.style.display = "flex";
      if (bar) bar.style.display = "none";
      chatOpen = true;
    }
  }
</script>


<script>
  let audioUnlocked = false;

  function playChime() {
    const chime = document.getElementById("chime-audio");
    if (chime) {
      chime.currentTime = 0;
      chime.play();
    }
  }

  function unlockAudio() {
    if (!audioUnlocked) {
      const chime = document.getElementById("chime-audio");
      if (chime) {
        chime.play().then(() => {
          audioUnlocked = true;
          chime.pause();
          chime.currentTime = 0;
        });
      }
    }
  }

  document.addEventListener("click", unlockAudio);
</script>

<script>
  const chatIcon = document.getElementById("chatbot-button");
  if (chatIcon) {
    chatIcon.addEventListener("mouseenter", function () {
      if (audioUnlocked && !chatOpen) {
        playChime();
      }
    });
  }

  window.addEventListener("load", function () {
    setTimeout(() => {
      if (audioUnlocked && !chatOpen) {
        playChime();
      }
    }, 600);
  });
</script>


</body>
</html>
